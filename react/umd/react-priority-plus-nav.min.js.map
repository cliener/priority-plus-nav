{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap af62fb2e6a185b469bff","webpack:///./src/index.js","webpack:///./src/PriorityPlusNav.js","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_3__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__PriorityPlusNav__","defaultRenderMenuItem","props","itemDetails","captureRef","clickHandler","activeClass","uri","label","isActive","__WEBPACK_IMPORTED_MODULE_0_react___default","a","createElement","className","key","ref","onClick","href","PriorityPlusNav","state","items","itemRefs","activeItems","inactiveItems","overflowActive","parentNode","overflowButton","spaceTester","itemMargin","updateMenuItems","_this","length","setState","totalWidth","parentWidth","offsetWidth","overflowedIndex","findIndex","item","index","active","slice","pop","inactive","handleMenuItemClick","toggleExtendedMenu","handleResize","handleOverflowMenuClick","event","preventDefault","componentWillMount","_this2","_props","menuItems","_props$renderMenuItem","renderMenuItem","undefined","mappedMenuItems","map","li","baseClassName","componentDidMount","parseInt","window","getComputedStyle","marginLeft","addEventListener","componentWillUnmount","removeEventListener","render","_this3","_props2","_props2$MenuText","MenuText","_props2$MoreText","MoreText","_state","nav","aria-hidden","__WEBPACK_IMPORTED_MODULE_0_react__"],"mappings":"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","file":"react-priority-plus-nav.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactPriorityPlusNav\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactPriorityPlusNav\"] = factory(root[\"React\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap af62fb2e6a185b469bff","import PriorityPlusNav from \"./PriorityPlusNav\";\n\nexport default PriorityPlusNav;\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\n\nconst baseClassName = \"cdl-ppnav\";\n\nconst defaultRenderMenuItem = props => {\n  const { itemDetails, captureRef, clickHandler, activeClass } = props;\n  const { uri, label, isActive } = itemDetails;\n\n  return (\n    <li className={isActive ? activeClass : \"\"} key={uri} ref={captureRef} onClick={clickHandler}>\n      <a href={uri}>{label}</a>\n    </li>\n  );\n};\n\ndefaultRenderMenuItem.propTypes = {\n  itemDetails: PropTypes.object,\n  captureRef: PropTypes.func,\n  clickHandler: PropTypes.func,\n  activeClass: PropTypes.string,\n};\n\nclass PriorityPlusNav extends Component {\n  state = {\n    items: [],\n    itemRefs: [],\n    activeItems: [],\n    inactiveItems: [],\n    overflowActive: false,\n  };\n\n  parentNode = null;\n  overflowButton = null;\n  spaceTester = null;\n  itemRefs = [];\n  itemMargin = 0;\n\n  updateMenuItems = items => {\n    const itemRefs = this.state.itemRefs;\n\n    if (items.length < 1) {\n      return;\n    }\n\n    if (itemRefs.length < 1) {\n      this.setState({\n        activeItems: items,\n      });\n\n      return;\n    }\n\n    let totalWidth = 0;\n    const parentWidth = this.parentNode.offsetWidth;\n    const overflowedIndex = items.findIndex((item, index) => {\n      totalWidth = totalWidth +\n        itemRefs[index].offsetWidth +\n        this.itemMargin;\n\n      return totalWidth > parentWidth;\n    });\n\n    const active = items.slice(0, overflowedIndex === -1 ? items.length : overflowedIndex);\n\n    // If some elements are wrapped, make sure there's room for the overflow button\n    if (active.length < items.length) {\n      if (\n        totalWidth + this.itemMargin + this.overflowButton.offsetWidth >=\n        parentWidth\n      ) {\n        active.pop();\n      }\n    }\n\n    // If there's only one overflowed item, pop it's sibling\n    // This ensures at least two elements are in the overflow.\n    if (items.length - active.length === 1) {\n      active.pop();\n    }\n\n    // set inactive elements\n    const inactive = items.slice(active.length);\n\n    this.setState({\n      activeItems: active,\n      inactiveItems: inactive,\n    });\n  };\n\n  handleMenuItemClick = () => {\n    if (this.state.overflowActive) {\n      this.setState({\n        overflowActive: false,\n      });\n    }\n  };\n\n  componentWillMount() {\n    const { menuItems, renderMenuItem = defaultRenderMenuItem } = this.props;\n\n    const mappedMenuItems = menuItems.map((item, index) =>\n      renderMenuItem({\n        itemDetails: item,\n        captureRef: li => {\n          this.itemRefs[index] = li;\n        },\n        clickHandler: this.handleMenuItemClick,\n        activeClass: `${baseClassName}__item--active`,\n      })\n    );\n\n    this.setState({\n      items: mappedMenuItems,\n      itemRefs: this.itemRefs,\n    });\n\n    this.updateMenuItems(mappedMenuItems);\n  }\n\n  componentDidMount() {\n    this.setState({\n      itemRefs: this.itemRefs,\n    });\n\n    if (this.itemRefs.length > 1) {\n      this.itemMargin = parseInt(window.getComputedStyle(this.itemRefs[1]).marginLeft);\n    }\n\n    this.updateMenuItems(this.state.items);\n\n    window.addEventListener(\"resize\", this.handleResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.handleResize);\n  }\n\n  toggleExtendedMenu = () => {\n    this.setState({\n      overflowActive: !this.state.overflowActive,\n    });\n  };\n\n  handleResize = () => {\n    this.updateMenuItems(this.state.items);\n  };\n\n  handleOverflowMenuClick = event => {\n    event.preventDefault();\n    this.toggleExtendedMenu();\n    return false;\n  };\n\n  render() {\n    const { MenuText = \"Menu\", MoreText = \"More\", className } = this.props;\n\n    const { activeItems, overflowActive, inactiveItems } = this.state;\n\n    return (\n      <nav\n        className={`${baseClassName} ${className ? className : \"\"}`}\n        ref={nav => (this.parentNode = nav)}\n      >\n        {/*\n          displayed so we can calculate menu item widths as they'd normally be displayed in the top menu\n        */}\n        <ul className={`${baseClassName}__hiddenNav`} aria-hidden=\"true\">\n          {inactiveItems}\n        </ul>\n        <ul>\n          {activeItems}\n          <li\n            className={`${baseClassName}__indicator`}\n            aria-hidden={inactiveItems.length < 1}\n            ref={li => (this.overflowButton = li)}\n          >\n            <a\n              href=\"#all-nav\"\n              className={`${baseClassName}__button ${\n                activeItems.length > 0 ? \"\" : `${baseClassName}__button--compact`\n              }`}\n              onClick={this.handleOverflowMenuClick}\n            >\n              {activeItems.length > 0 ? MoreText : MenuText}\n            </a>\n            <ul className={`${baseClassName}__list`} aria-hidden={!overflowActive}>\n              {inactiveItems}\n            </ul>\n          </li>\n        </ul>\n      </nav>\n    );\n  }\n}\n\nPriorityPlusNav.propTypes = {\n  renderMenuItem: PropTypes.func,\n  MenuText: PropTypes.string,\n  MoreText: PropTypes.string,\n  menuItems: PropTypes.array,\n  className: PropTypes.string,\n};\n\nexport default PriorityPlusNav;\n\n\n\n// WEBPACK FOOTER //\n// ./src/PriorityPlusNav.js","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}